<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªçc T·ª´ V·ª±ng - Flashcards</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <header class="app-header">
        <h1>H·ªçc T·ª´ V·ª±ng Ti·∫øng Anh</h1>
        <nav class="tabs">
            <button class="tab-button active" data-tab="flashcards">Flashcards</button>
            <button class="tab-button" data-tab="add">Th√™m t·ª´</button>
            <button class="tab-button" data-tab="analyze">Ph√¢n t√≠ch</button>
            <button class="tab-button" data-tab="telegram">Nh·∫Øc Telegram</button>
            <button class="tab-button" data-tab="account">T√†i kho·∫£n</button>
        </nav>
        <div id="banner" class="banner">
            <div id="banner-text" class="marquee"></div>
        </div>
    </header>

    <main class="app-main">
        <!-- Flashcards tab -->
        <section id="tab-flashcards" class="tab active">
            <div class="flashcard" id="flashcard">
                <div class="flashcard-inner" id="flashcard-inner">
                    <div class="flashcard-face flashcard-front">
                        <div class="word-line">
                            <span id="word" class="word">‚Äî</span>
                            <button id="play-audio" class="icon-button" title="Ph√°t ph√°t √¢m">üîä</button>
                        </div>
                        <div class="phonetics" id="phonetics">&nbsp;</div>
                        <div class="pos" id="pos">&nbsp;</div>
                        <div class="progress" id="progress">0 / 0</div>
                    </div>
                    <div class="flashcard-face flashcard-back">
                        <div class="definition" id="definition">‚Äî</div>
                        <div class="example" id="example">‚Äî</div>
                    </div>
                </div>
            </div>
            <div class="controls">
                <button id="prev">‚üµ Tr∆∞·ªõc</button>
                <button id="flip">L·∫≠t th·∫ª</button>
                <button id="next">Ti·∫øp ‚ü∂</button>
                <button id="shuffle">Tr·ªôn</button>
                <button id="mark-known">ƒê√£ bi·∫øt</button>
                <button id="delete-word" class="danger">Xo√°</button>
            </div>
            <div class="filters">
                <label>
                    B·ªô th·∫ª:
                    <select id="deck-filter">
                        <option value="all">T·∫•t c·∫£</option>
                        <option value="new">M·ªõi</option>
                        <option value="learning">ƒêang h·ªçc</option>
                        <option value="known">ƒê√£ bi·∫øt</option>
                    </select>
                </label>
                <label>
                    T√¨m ki·∫øm:
                    <input type="text" id="search" placeholder="T·ª´ ho·∫∑c nghƒ©a...">
                </label>
                <label>
                    Gi·ªçng ƒë·ªçc
                    <select id="tts-voice"></select>
                </label>
            </div>
            <div class="card">
                <h2>Ph√¢n t√≠ch</h2>
                <div id="inline-analysis" class="analysis">‚Äî</div>
            </div>
        </section>

        <!-- Add tab -->
        <section id="tab-add" class="tab">
            <form id="add-form" class="card">
                <h2>Th√™m t·ª´ m·ªõi</h2>
                <div class="grid-2">
                    <label>
                        T·ª´ ti·∫øng Anh
                        <input id="add-word" type="text" placeholder="vd: benevolent" required>
                    </label>
                    <!-- <label>
                        Nghƒ©a (ti·∫øng Vi·ªát)
                        <input id="add-meaning" type="text" placeholder="vd: nh√¢n t·ª´, nh√¢n h·∫≠u">
                    </label> -->
                </div>
                <!-- <label>
                    V√≠ d·ª•
                    <textarea id="add-example" rows="2" placeholder="vd: She is benevolent to everyone."></textarea>
                </label> -->
                <div class="row">
                    <label class="checkbox">
                        <input id="auto-analyze" type="checkbox" checked>
                        T·ª± ph√¢n t√≠ch t·ª´ qua t·ª´ ƒëi·ªÉn (khuy·∫øn ngh·ªã)
                    </label>
                </div>
                <div class="row">
                    <button type="submit">L∆∞u</button>
                    <button type="button" id="analyze-now">Ph√¢n t√≠ch ngay</button>
                </div>
                <div id="add-feedback" class="feedback"></div>
            </form>
            <div class="card" id="preview-card" hidden>
                <h3>Xem nhanh</h3>
                <div id="preview-content">‚Äî</div>
            </div>
        </section>

        <!-- Analyze tab -->
        <section id="tab-analyze" class="tab">
            <div class="card">
                <h2>Ph√¢n t√≠ch t·ª´ v·ª±ng</h2>
                <div class="grid-2">
                    <label>
                        T·ª´ c·∫ßn ph√¢n t√≠ch
                        <input id="analyze-word" type="text" placeholder="vd: elaborate">
                    </label>
                    <div class="row align-end">
                        <button id="btn-analyze">Ph√¢n t√≠ch</button>
                    </div>
                </div>
                <div id="analyze-result" class="analysis"></div>
            </div>
        </section>

        <!-- Telegram tab -->
        <section id="tab-telegram" class="tab">
            <form id="tg-form" class="card">
                <h2>Nh·∫Øc h·ªçc h·∫±ng ng√†y qua Telegram</h2>
                <div class="tg-status">
                    <span id="tg-status-badge" class="status-badge status-off">Ch∆∞a k·∫øt n·ªëi</span>
                    <span id="tg-status-desc" class="status-desc">M·ªü Telegram bot @tunz_vocab_bot, b·∫•m B·∫Øt ƒë·∫ßu v√† nh·∫≠p
                        email ƒë√£ ƒëƒÉng k√Ω tr√™n website ƒë·ªÉ li√™n k·∫øt.</span>
                </div>
                <div class="card" style="margin-top:12px">
                    <h3>H∆∞·ªõng d·∫´n li√™n k·∫øt</h3>
                    <ol class="steps">
                        <li>ƒê·∫£m b·∫£o b·∫°n ƒë√£ <strong>ƒëƒÉng k√Ω</strong> v√† <strong>ƒëƒÉng nh·∫≠p</strong> tr√™n website
                            <a href="https://vocab-lilac.vercel.app/" target="_blank"
                                rel="noopener">vocab-lilac.vercel.app</a>.
                        </li>
                        <li>M·ªü Telegram v√† t√¨m bot
                            <a href="https://t.me/tunz_vocab_bot" target="_blank" rel="noopener">@tunz_vocab_bot</a>,
                            b·∫•m <em>B·∫Øt ƒë·∫ßu</em>.
                        </li>
                        <li>Nh·∫≠p <strong>email</strong> b·∫°n ƒë√£ ƒëƒÉng k√Ω ƒë·ªÉ li√™n k·∫øt t√†i kho·∫£n.</li>
                        <li>Quay l·∫°i ƒë√¢y ƒë·ªÉ c√†i ƒë·∫∑t <strong>gi·ªù/ph√∫t</strong> v√† <strong>b·∫≠t nh·∫Øc</strong>.</li>
                    </ol>
                    <div class="hint">N·∫øu ƒë√£ li√™n k·∫øt nh∆∞ng ch∆∞a nh·∫≠n ƒë∆∞·ª£c tin, h√£y th·ª≠ n√∫t ‚ÄúG·ª≠i tin th·ª≠‚Äù.</div>
                </div>
                <div class="grid-3">
                    <label>
                        Gi·ªù nh·∫Øc (24h)
                        <input id="tg-hour" type="number" min="0" max="23" value="8">
                    </label>
                    <label>
                        Ph√∫t
                        <input id="tg-minute" type="number" min="0" max="59" value="0">
                    </label>
                    <div class="switch-wrap">
                        <span>B·∫≠t nh·∫Øc h·∫±ng ng√†y</span>
                        <label class="switch">
                            <input id="tg-enabled" type="checkbox">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <button type="submit">L∆∞u c·∫•u h√¨nh</button>
                    <button type="button" id="tg-detect" hidden>T·ª± ph√°t hi·ªán Chat</button>
                    <button type="button" id="tg-test">G·ª≠i tin th·ª≠</button>
                </div>
                <!-- <div class="hint">L∆∞u √Ω: G·ª≠i t·ª´ tr√¨nh duy·ªát c√≥ th·ªÉ kh√¥ng xem ƒë∆∞·ª£c ph·∫£n h·ªìi do CORS, nh∆∞ng tin v·∫´n c√≥ th·ªÉ -->
                <!-- t·ªõi Telegram.</div> -->
                <div id="tg-feedback" class="feedback"></div>
            </form>
        </section>

        <!-- Account tab -->
        <section id="tab-account" class="tab">
            <div class="card">
                <h2>T√†i kho·∫£n</h2>
                <div class="grid-2">
                    <form id="form-register">
                        <h3>ƒêƒÉng k√Ω</h3>
                        <label>Email
                            <input id="reg-email" type="email" required placeholder="you@example.com">
                        </label>
                        <label>M·∫≠t kh·∫©u
                            <input id="reg-pass" type="password" required>
                        </label>
                        <button type="submit">T·∫°o t√†i kho·∫£n</button>
                        <div id="reg-feedback" class="feedback"></div>
                    </form>
                    <form id="form-login">
                        <h3>ƒêƒÉng nh·∫≠p</h3>
                        <label>Email
                            <input id="login-email" type="email" required>
                        </label>
                        <label>M·∫≠t kh·∫©u
                            <input id="login-pass" type="password" required>
                        </label>
                        <button type="submit">ƒêƒÉng nh·∫≠p</button>
                        <div id="login-feedback" class="feedback"></div>
                    </form>
                </div>
                <div class="row" style="margin-top:12px">
                    <button id="btn-logout">ƒêƒÉng xu·∫•t</button>
                    <div id="auth-status" class="hint">Ch∆∞a ƒëƒÉng nh·∫≠p</div>
                </div>
            </div>
        </section>
    </main>

    <footer class="app-footer">
        <span>¬© 2025 Flash Vocab</span>
        <span id="total-count">0 t·ª´</span>
    </footer>

    <script src="app.js"></script>
</body>

</html>